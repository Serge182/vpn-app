<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>FastVPN - Secure Mobile VPN</title>
    <meta name="description" content="FastVPN - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ VPN –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    
    <!-- PWA icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîí</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîí</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            overflow-x: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .toggle-switch {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .toggle-knob {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
            }
            50% { 
                opacity: 0.7; 
                transform: scale(1.05);
            }
        }
        
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { 
                transform: translateX(100%); 
                opacity: 0;
            }
            to { 
                transform: translateX(0); 
                opacity: 1;
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        html, body {
            height: 100%;
            overflow: hidden;
        }
        
        .app-container {
            height: 100vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–µ–Ω—å –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
        .btn-shadow {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-shadow:active {
            transform: translateY(1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è premium –∫–Ω–æ–ø–∫–∏ */
        .premium-gradient {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        }
        
        .premium-gradient:hover {
            background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);
        }
    </style>
</head>
<body class="bg-black text-white font-sans">
    <div id="app" class="app-container"></div>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let state = {
            isConnected: false,
            selectedServer: '–†–æ—Å—Å–∏—è',
            showServers: false,
            connectionTime: '00:00:00',
            dataUsed: '0 MB',
            connectionTimer: null,
            startTime: null,
            isConnecting: false
        };

        // –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
        const servers = [
            { name: '–†–æ—Å—Å–∏—è', flag: 'üá∑üá∫', ping: '12ms', location: '–ú–æ—Å–∫–≤–∞' },
            { name: '–°–®–ê', flag: 'üá∫üá∏', ping: '45ms', location: '–ù—å—é-–ô–æ—Ä–∫' },
            { name: '–ì–µ—Ä–º–∞–Ω–∏—è', flag: 'üá©üá™', ping: '25ms', location: '–ë–µ—Ä–ª–∏–Ω' },
            { name: '–Ø–ø–æ–Ω–∏—è', flag: 'üáØüáµ', ping: '78ms', location: '–¢–æ–∫–∏–æ' },
            { name: '–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', flag: 'üá¨üáß', ping: '35ms', location: '–õ–æ–Ω–¥–æ–Ω' },
            { name: '–ö–∞–Ω–∞–¥–∞', flag: 'üá®üá¶', ping: '52ms', location: '–¢–æ—Ä–æ–Ω—Ç–æ' },
            { name: '–§—Ä–∞–Ω—Ü–∏—è', flag: 'üá´üá∑', ping: '28ms', location: '–ü–∞—Ä–∏–∂' },
            { name: '–ê–≤—Å—Ç—Ä–∞–ª–∏—è', flag: 'üá¶üá∫', ping: '95ms', location: '–°–∏–¥–Ω–µ–π' }
        ];

        // –£—Ç–∏–ª–∏—Ç—ã
        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const mins = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateConnectionTimer() {
            if (state.isConnected && state.startTime) {
                const elapsed = Math.floor((Date.now() - state.startTime) / 1000);
                state.connectionTime = formatTime(elapsed);
                state.dataUsed = `${Math.floor(elapsed / 10 + Math.random() * 5)} MB`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Ç–∞–π–º–µ—Ä–∞, –Ω–µ –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                const timeElement = document.getElementById('connection-time');
                const dataElement = document.getElementById('data-used');
                
                if (timeElement) timeElement.textContent = state.connectionTime;
                if (dataElement) dataElement.textContent = state.dataUsed;
            }
        }

        function toggleConnection() {
            if (state.isConnecting) return;
            
            state.isConnecting = true;
            render();
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
            setTimeout(() => {
                state.isConnected = !state.isConnected;
                state.isConnecting = false;
                
                if (state.isConnected) {
                    state.startTime = Date.now();
                    state.connectionTimer = setInterval(updateConnectionTimer, 1000);
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
                    showNotification('–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ', 'success');
                } else {
                    if (state.connectionTimer) {
                        clearInterval(state.connectionTimer);
                        state.connectionTimer = null;
                    }
                    state.connectionTime = '00:00:00';
                    state.dataUsed = '0 MB';
                    state.startTime = null;
                    showNotification('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ', 'info');
                }
                
                render();
            }, 1500);
        }

        function selectServer(server) {
            const prevServer = state.selectedServer;
            state.selectedServer = server.name;
            state.showServers = false;
            
            if (prevServer !== server.name) {
                showNotification(`–í—ã–±—Ä–∞–Ω —Å–µ—Ä–≤–µ—Ä: ${server.name}`, 'info');
            }
            
            render();
        }

        function showServerList() {
            state.showServers = true;
            render();
        }

        function hideServerList() {
            state.showServers = false;
            render();
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 left-4 right-4 p-4 rounded-xl z-50 text-center font-medium transition-all duration-300 ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 'bg-blue-600'
            }`;
            notification.textContent = message;
            notification.style.transform = 'translateY(-100px)';
            notification.style.opacity = '0';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateY(0)';
                notification.style.opacity = '1';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateY(-100px)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
        function StatusBar() {
            return ``;
        }

        function Header() {
            return `
                <div class="flex items-center justify-between p-4 pt-8">
                    <div class="flex items-center space-x-3">
                        <svg class="w-6 h-6 text-orange-500" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                        </svg>
                        <span class="text-xl font-bold">FastVPN</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        </svg>
                        <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                            <line x1="3" y1="6" x2="21" y2="6"/>
                            <line x1="3" y1="12" x2="21" y2="12"/>
                            <line x1="3" y1="18" x2="21" y2="18"/>
                        </svg>
                    </div>
                </div>
            `;
        }

        function MainScreen() {
            const currentServer = servers.find(s => s.name === state.selectedServer);
            
            return `
                <div class="flex flex-col items-center px-6 py-4 pb-48 fade-in">
                    <!-- VPN Logo -->
                    <div class="text-center mb-12">
                        <div class="text-6xl font-bold text-orange-500 mb-4 ${state.isConnected ? 'pulse' : ''}">
                            ${state.isConnecting ? 'VPN' : 'VPN'}
                        </div>
                        <div class="w-16 h-1 bg-orange-500 mx-auto rounded-full"></div>
                        ${state.isConnecting ? '<div class="text-orange-400 text-sm mt-2">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</div>' : ''}
                    </div>

                    <!-- Connection Toggle -->
                    <div class="relative mb-8">
                        <button
                            onclick="toggleConnection()"
                            class="w-32 h-16 rounded-full toggle-switch btn-shadow ${
                                state.isConnecting ? 'bg-yellow-500' :
                                state.isConnected ? 'bg-orange-500' : 'bg-gray-700'
                            } relative ${state.isConnecting ? 'animate-pulse' : ''}"
                            ${state.isConnecting ? 'disabled' : ''}
                        >
                            <div class="absolute top-2 w-12 h-12 bg-white rounded-full toggle-knob flex items-center justify-center ${
                                state.isConnected && !state.isConnecting ? 'translate-x-16' : 'translate-x-2'
                            }">
                                <svg class="w-5 h-5 ${
                                    state.isConnecting ? 'text-yellow-500' :
                                    state.isConnected ? 'text-orange-500' : 'text-gray-500'
                                }" fill="currentColor" viewBox="0 0 24 24">
                                    ${state.isConnected && !state.isConnecting ? 
                                        '<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"/>' :
                                        '<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2z"/>'
                                    }
                                </svg>
                            </div>
                        </button>
                    </div>

                    <!-- Status -->
                    <div class="text-center mb-8">
                        <h2 class="text-2xl font-semibold mb-2">
                            ${state.isConnecting ? '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...' :
                              state.isConnected ? '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ' : '–û—Ç–∫–ª—é—á–µ–Ω–æ'}
                        </h2>
                        <p class="text-gray-400 text-center px-4">
                            ${state.isConnecting ? '–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ...' :
                              state.isConnected 
                                ? '–í–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.' 
                                : '–í–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –∑–∞—â–∏—â–µ–Ω–æ.'}
                        </p>
                    </div>

                    ${state.isConnected && !state.isConnecting ? `
                    <!-- Connection Info -->
                    <div class="w-full bg-gray-900/50 rounded-2xl p-4 mb-6 border border-gray-800 fade-in">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-gray-400">–í—Ä–µ–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</span>
                            <span id="connection-time" class="text-white font-mono">${state.connectionTime}</span>
                        </div>
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-gray-400">–ü–µ—Ä–µ–¥–∞–Ω–æ –¥–∞–Ω–Ω—ã—Ö</span>
                            <span id="data-used" class="text-white">${state.dataUsed}</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-gray-400">IP –∞–¥—Ä–µ—Å</span>
                            <span class="text-green-400">–°–∫—Ä—ã—Ç</span>
                        </div>
                    </div>
                    ` : ''}

                    <!-- Server Selection -->
                    <button
                        onclick="showServerList()"
                        class="w-full bg-gray-900/50 rounded-2xl p-4 border border-gray-800 flex items-center justify-between btn-shadow hover:bg-gray-800/50 transition-colors mb-8"
                    >
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5 text-orange-500" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/>
                            </svg>
                            <div class="text-left">
                                <div class="font-medium">–°–µ—Ä–≤–µ—Ä</div>
                                <div class="text-gray-400 text-sm">
                                    ${currentServer ? `${currentServer.name} ‚Ä¢ ${currentServer.ping}` : state.selectedServer}
                                </div>
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                            <polyline points="9,18 15,12 9,6"/>
                        </svg>
                    </button>
                </div>

                <!-- Bottom CTA -->
                <div class="fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent">
                    <div class="text-center mb-4">
                        <div class="flex items-center justify-center mb-2">
                            <span class="text-2xl">‚ö°</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">VPN+</h3>
                        <p class="text-gray-400 text-sm mb-4">
                            –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–µ–º–∏—É–º –¥–æ—Å—Ç—É–ø –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
                        </p>
                    </div>
                    
                    <button class="w-full premium-gradient text-white py-4 rounded-2xl font-semibold text-lg mb-4 btn-shadow transition-all">
                        PREMIUM - 299 ‚ÇΩ –≤ –º–µ—Å.
                    </button>
                    
                    <div class="w-full h-1 bg-gray-800 rounded-full"></div>
                </div>
            `;
        }

        function ServerListScreen() {
            return `
                <div class="slide-in">
                    <!-- Header -->
                    <div class="flex items-center justify-between p-4 pt-16">
                        <button 
                            onclick="hideServerList()"
                            class="text-blue-400 text-lg hover:text-blue-300 transition-colors"
                        >
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                        <h1 class="text-xl font-semibold">–í—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞</h1>
                        <div class="w-8"></div>
                    </div>

                    <!-- Server List -->
                    <div class="px-4 space-y-2 pb-20">
                        ${servers.map((server, index) => `
                            <button
                                onclick="selectServer({name: '${server.name}', flag: '${server.flag}', ping: '${server.ping}'})"
                                class="w-full flex items-center justify-between p-4 rounded-xl border transition-all btn-shadow hover:scale-[1.02] ${
                                    state.selectedServer === server.name 
                                        ? 'border-orange-500 bg-orange-500/10' 
                                        : 'border-gray-700 bg-gray-900/50 hover:bg-gray-800/50'
                                }"
                                style="animation-delay: ${index * 0.1}s"
                            >
                                <div class="flex items-center space-x-3">
                                    <span class="text-2xl">${server.flag}</span>
                                    <div class="text-left">
                                        <div class="font-medium">${server.name}</div>
                                        <div class="text-gray-400 text-sm">${server.location} ‚Ä¢ ${server.ping}</div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="flex items-center space-x-1">
                                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                        <span class="text-xs text-green-400">–û–Ω–ª–∞–π–Ω</span>
                                    </div>
                                    ${state.selectedServer === server.name ? 
                                        '<div class="w-2 h-2 bg-orange-500 rounded-full"></div>' : ''
                                    }
                                </div>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function render() {
            const app = document.getElementById('app');
            app.innerHTML = `
                ${StatusBar()}
                ${state.showServers ? '' : Header()}
                ${state.showServers ? ServerListScreen() : MainScreen()}
            `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        render();

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∑—É–º –Ω–∞ –¥–≤–æ–π–Ω–æ–π —Ç–∞–ø
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // PWA –ø–æ–¥–¥–µ—Ä–∂–∫–∞
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º service worker –¥–ª—è PWA
                const swCode = `
                    const CACHE_NAME = 'fastvpn-v1';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => response || fetch(event.request))
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(registration => console.log('SW registered:', registration))
                    .catch(registrationError => console.log('SW registration failed:', registrationError));
            });
        }

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ PWA —Ñ—É–Ω–∫—Ü–∏–∏
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
        });

        console.log('üöÄ FastVPN App loaded successfully!');
        console.log('üì± –ì–æ—Ç–æ–≤–æ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–∞–∫ PWA');
    </script>
</body>
</html>
